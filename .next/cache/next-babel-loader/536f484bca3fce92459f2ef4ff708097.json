{"ast":null,"code":"// Hold all endpoints data here\nimport fetch from \"node-fetch\";\nconst GITHUB_BASE_API = \"https://api.github.com\";\nexport const resolvers = {\n  Query: {\n    viewer(_parent, _args, _context, _info) {\n      return {\n        id: 1,\n        name: \"John Smith 2\",\n        status: \"\"\n      };\n    },\n\n    git_user: async (parent, args, context, info) => {\n      console.log(\"git_user args => \", args.id); // let github_user = _args.id;\n\n      let github_user = \"lukethacoder\";\n      fetch(`${GITHUB_BASE_API}/users/${args.id}`).then(res => {\n        console.log(\"git_data res => \", res);\n\n        if (res.data) {\n          return res.json();\n        } else {\n          throw new Error(res.message);\n        }\n      }).then(git_data => {\n        console.log(\"git_data => \", git_data);\n        return {\n          id: git_data.id,\n          name: `Mr Git ${git_data.login}`,\n          status: \"wip\"\n        };\n      }).catch(err => console.error(err)); // try {\n      //   return fetch(`https://api.github.com/users/${github_user}`)\n      //     .then(user => ({\n      //       id: user.id,\n      //       name: `Mr Git ${user.login}`,\n      //       status: \"wip\"\n      //     }))\n      //     .catch(err => {\n      //       throw new AuthenticationError(\"Invalid Github Endpoint => \", err);\n      //     });\n      // } catch {\n      //   throw new AuthenticationError(\"Invalid Github Endpoint => \", err);\n      // }\n      // try {\n      //   const { id, email } = jwt.verify(token, JWT_SECRET);\n      //   return users.find(user => user.id === id && user.email === email);\n      // } catch {\n      //   throw new AuthenticationError(\n      //     \"Authentication token is invalid, please log in\"\n      //   );\n      // }\n    }\n  }\n};","map":{"version":3,"sources":["C:/Users/lukes/Documents/Github/next.js-api-routes-apollo-server-and-client/apollo/resolvers.js"],"names":["fetch","GITHUB_BASE_API","resolvers","Query","viewer","_parent","_args","_context","_info","id","name","status","git_user","parent","args","context","info","console","log","github_user","then","res","data","json","Error","message","git_data","login","catch","err","error"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,YAAlB;AACA,MAAMC,eAAe,GAAG,wBAAxB;AAEA,OAAO,MAAMC,SAAS,GAAG;AACvBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,CAACC,OAAD,EAAUC,KAAV,EAAiBC,QAAjB,EAA2BC,KAA3B,EAAkC;AACtC,aAAO;AAAEC,QAAAA,EAAE,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAE,cAAf;AAA+BC,QAAAA,MAAM,EAAE;AAAvC,OAAP;AACD,KAHI;;AAILC,IAAAA,QAAQ,EAAE,OAAOC,MAAP,EAAeC,IAAf,EAAqBC,OAArB,EAA8BC,IAA9B,KAAuC;AAC/CC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCJ,IAAI,CAACL,EAAtC,EAD+C,CAE/C;;AACA,UAAIU,WAAW,GAAG,cAAlB;AAEAnB,MAAAA,KAAK,CAAE,GAAEC,eAAgB,UAASa,IAAI,CAACL,EAAG,EAArC,CAAL,CACGW,IADH,CACQC,GAAG,IAAI;AACXJ,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCG,GAAhC;;AACA,YAAIA,GAAG,CAACC,IAAR,EAAc;AACZ,iBAAOD,GAAG,CAACE,IAAJ,EAAP;AACD,SAFD,MAEO;AACL,gBAAM,IAAIC,KAAJ,CAAUH,GAAG,CAACI,OAAd,CAAN;AACD;AACF,OARH,EASGL,IATH,CASQM,QAAQ,IAAI;AAChBT,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BQ,QAA5B;AACA,eAAO;AACLjB,UAAAA,EAAE,EAAEiB,QAAQ,CAACjB,EADR;AAELC,UAAAA,IAAI,EAAG,UAASgB,QAAQ,CAACC,KAAM,EAF1B;AAGLhB,UAAAA,MAAM,EAAE;AAHH,SAAP;AAKD,OAhBH,EAiBGiB,KAjBH,CAiBSC,GAAG,IAAIZ,OAAO,CAACa,KAAR,CAAcD,GAAd,CAjBhB,EAL+C,CAuB/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACD;AAlDI;AADgB,CAAlB","sourcesContent":["// Hold all endpoints data here\nimport fetch from \"node-fetch\";\nconst GITHUB_BASE_API = \"https://api.github.com\";\n\nexport const resolvers = {\n  Query: {\n    viewer(_parent, _args, _context, _info) {\n      return { id: 1, name: \"John Smith 2\", status: \"\" };\n    },\n    git_user: async (parent, args, context, info) => {\n      console.log(\"git_user args => \", args.id);\n      // let github_user = _args.id;\n      let github_user = \"lukethacoder\";\n\n      fetch(`${GITHUB_BASE_API}/users/${args.id}`)\n        .then(res => {\n          console.log(\"git_data res => \", res);\n          if (res.data) {\n            return res.json();\n          } else {\n            throw new Error(res.message);\n          }\n        })\n        .then(git_data => {\n          console.log(\"git_data => \", git_data);\n          return {\n            id: git_data.id,\n            name: `Mr Git ${git_data.login}`,\n            status: \"wip\"\n          };\n        })\n        .catch(err => console.error(err));\n      // try {\n      //   return fetch(`https://api.github.com/users/${github_user}`)\n      //     .then(user => ({\n      //       id: user.id,\n      //       name: `Mr Git ${user.login}`,\n      //       status: \"wip\"\n      //     }))\n      //     .catch(err => {\n      //       throw new AuthenticationError(\"Invalid Github Endpoint => \", err);\n      //     });\n      // } catch {\n      //   throw new AuthenticationError(\"Invalid Github Endpoint => \", err);\n      // }\n\n      // try {\n      //   const { id, email } = jwt.verify(token, JWT_SECRET);\n\n      //   return users.find(user => user.id === id && user.email === email);\n      // } catch {\n      //   throw new AuthenticationError(\n      //     \"Authentication token is invalid, please log in\"\n      //   );\n      // }\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"module"}